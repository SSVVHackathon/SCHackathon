<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <script src="https://api.mqcdn.com/sdk/mapquest-js/v1.3.2/mapquest.js"></script>
    <link type="text/css" rel="stylesheet" href="https://api.mqcdn.com/sdk/mapquest-js/v1.3.2/mapquest.css"/>
    <script src="https://api.mqcdn.com/sdk/mapquest-js/v1.3.2/mapquest.js"></script>
    <link type="text/css" rel="stylesheet" href="https://api.mqcdn.com/sdk/mapquest-js/v1.3.2/mapquest.css"/>
 
</head>
<body>
<script>
    let longitude;
    let latitude;
    let request = new XMLHttpRequest();
    let street_name = 'Eaton';
    let street_number = '865';
    let street_type = 'Ct';
    let state = 'IL';
    let city = 'Schaumburg';
    URL = 'http://www.mapquestapi.com/geocoding/v1/address?key=b2dGkIrlekSyPLooDph9A5RxYLEAX5UJ&location=';
    URL += street_number+','+street_name+','+city+','+state;
    // Open a new connection, using the GET request on the URL endpoint
    request.open('GET',URL, true );

    request.onload = function() {
        // Begin accessing JSON data here
        let data = JSON.parse(this.response);
        if (request.status >= 200 && request.status <400){
          latitude = parseFloat(data.results['0'].locations['0'].latLng['lat']);
          longitude = parseFloat(data.results['0'].locations['0'].latLng['lng']);
        }else{
            console.log('error');
        }
    };

    request.send();


    //making the map
    window.onload = function() {
        L.mapquest.key = 'GECzDEMyaXyIRZlHZNyAiEIPUuKRAfXN';
        var baseLayer = L.mapquest.tileLayer('map');

        var map = L.mapquest.map('map', {
            center: [37.7749, -122.4194],
            layers: baseLayer,
            zoom: 12
        });

        L.control.layers({
            'Map': baseLayer,
            'Hybrid': L.mapquest.tileLayer('hybrid'),
            'Satellite': L.mapquest.tileLayer('satellite'),
            'Light': L.mapquest.tileLayer('light'),
            'Dark': L.mapquest.tileLayer('dark')
        }).addTo(map);
    }


</script>
</body>
<body style="border: 0; margin: 0;">
    <div id="map" style="width: 100%; height: 530px;"></div>
</body>
</html>